# =============================================================================
# LiveKit Server Configuration
# Real-time audio/video communication for Matrix calls
# =============================================================================

# Server port configuration
port: 7880
rtc:
  # UDP port range for WebRTC media
  port_range_start: 7882
  port_range_end: 7882
  # Use a single port for all UDP traffic (better for Docker)
  use_external_ip: true
  # Enable ICE lite for simpler NAT traversal
  enable_loopback_candidate: false
  
  # TCP fallback configuration
  tcp_port: 7881

# TURN server configuration (for clients behind strict NAT)
turn:
  enabled: true
  # Domain for TURN server
  domain: livekit.example.com
  # TLS port for TURN
  tls_port: 5349
  # UDP port for TURN
  udp_port: 3478

# API keys for authentication
# IMPORTANT: Generate secure keys using: openssl rand -hex 32
keys:
  # API Key : API Secret (replace with your own!)
  APIKeyFromEnv: SecretFromEnv

# Logging configuration
logging:
  level: info
  # JSON format for structured logging
  json: false

# Webhook configuration (optional, for event notifications)
# webhook:
#   urls:
#     - "https://your-webhook-endpoint.com/livekit"

# Room configuration defaults
room:
  # Enable automatic room creation
  auto_create: true
  # Maximum participants per room
  max_participants: 100
  # Empty room timeout (seconds)
  empty_timeout: 300
  # Departure timeout for participants
  departure_timeout: 20

# Redis configuration (optional, for multi-node deployment)
# redis:
#   address: redis:6379
#   db: 0

# Limits configuration
limit:
  # Maximum bandwidth per participant (bps)
  max_bandwidth_per_participant: 10485760  # 10 Mbps
  # Maximum message size
  max_message_size: 262144  # 256 KB
